specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: stake_contract
    network: sepolia
    source:
      address: "0x46c0f03E08f82511Fe9Ec413E5759e707762FBa2"
      abi: stake_contract
      startBlock: 9167933
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - token
        - Transactions
        - ContractDetails
      abis:
        - name: stake_contract
          file: ./abis/stake_contract.json
      eventHandlers:
        - event: EmergencyWithdrawn(indexed address,uint256,uint256,uint256,uint256)
          handler: handleEmergencyWithdrawn
        - event: RewardsClaimed(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRewardsClaimed
        - event: Staked(indexed address,uint256,uint256,uint256,uint256)
          handler: handleStaked
        - event: Withdrawn(indexed address,uint256,uint256,uint256,uint256,uint256)
          handler: handleWithdrawn
        - event: token(uint256,address,uint256)
          handler: handleToken
      file: ./src/stake-contract.ts
  - kind: ethereum
    name: staking_token_contract
    network: sepolia
    source:
      address: "0x6c58D6adca89bCAd00Adf0BA6E6Df41F6cD12772"
      abi: staking_token_contract
      startBlock: 9167902
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Approval
        - Transfer
      abis:
        - name: staking_token_contract
          file: ./abis/staking_token_contract.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/staking-token-contract.ts
